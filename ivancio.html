<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Misterio en VillaMiau - <span data-var="NOMBRE_PERSONAJE"></span></title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 100%);
            color: #f4f1e8;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(40, 30, 20, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            border: 2px solid #8b4513;
        }

        .header {
            background: linear-gradient(135deg, #8b4513 0%, #a0522d 100%);
            padding: 30px;
            text-align: center;
            border-bottom: 3px solid #654321;
        }

        .game-title {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            color: #fff;
        }

        .character-name {
            font-size: 1.8em;
            color: #ffd700;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }

        .character-profession {
            font-size: 1.2em;
            color: #ddd;
            font-style: italic;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(60, 45, 30, 0.6);
            border-radius: 10px;
            border-left: 4px solid #8b4513;
        }

        .section h2 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.5em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .section p {
            line-height: 1.6;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .secret-objective {
            background: rgba(139, 0, 0, 0.3);
            border: 2px solid #ff6b6b;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            position: relative;
        }

        .secret-objective::before {
            content: "üîí";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #2c1810;
            padding: 5px 10px;
            border-radius: 50%;
            font-size: 1.2em;
        }

        .secret-objective h3 {
            color: #ff6b6b;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .knowledge-section {
            background: rgba(0, 100, 0, 0.2);
            border: 2px solid #90ee90;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .knowledge-section h3 {
            color: #90ee90;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .personality-traits {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .trait {
            background: #8b4513;
            color: #fff;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(139, 69, 19, 0.9);
            color: #fff;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            border: 2px solid #8b4513;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .warning {
            background: rgba(255, 165, 0, 0.2);
            border: 2px solid #ffa500;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            color: #ffa500;
            font-weight: bold;
        }

        .footer {
            background: #1a0f0a;
            padding: 20px;
            text-align: center;
            color: #999;
            border-top: 2px solid #8b4513;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .game-title {
                font-size: 2em;
            }
            
            .character-name {
                font-size: 1.5em;
            }
            
            .content {
                padding: 20px;
            }
            
            .timer {
                position: static;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="timer" id="timer">
        Tiempo restante: <span id="countdown">--:--:--</span>
    </div>

    <div class="container">
        <div class="header">
            <h1 class="game-title">MISTERIO EN VILLAMIAU</h1>
            <h2 class="character-name"><span data-var="EMOJI"></span> <span data-var="NOMBRE_PERSONAJE"></span></h2>
            <p class="character-profession"><span data-var="PROFESION"></span></p>
        </div>

        <div class="content">
            <div class="warning">
                ‚ö†Ô∏è INFORMACI√ìN CONFIDENCIAL - No muestres esta p√°gina a otros jugadores
            </div>

            <div class="section">
                <h2>üìã Informaci√≥n B√°sica</h2>
                <p><strong>Edad:</strong> <span data-var="EDAD"></span> a√±os</p>
                <p><strong>Profesi√≥n:</strong> <span data-var="PROFESION"></span></p>
                <div class="personality-traits">
                    <span data-var="TRAITS"></span>
                </div>
            </div>

            <div class="section">
                <h2>üìñ Tu Historia</h2>
                <p><span data-var="HISTORIA"></span></p>
            </div>

            <div class="secret-objective">
                <h3>üéØ Tu Objetivo Secreto</h3>
                <p><span data-var="OBJETIVO_SECRETO"></span></p>
            </div>

            <div class="knowledge-section">
                <h3>üß† Lo que Sabes</h3>
                <p><span data-var="CONOCIMIENTOS"></span></p>
            </div>

            <div class="section">
                <h2>üé≠ Consejos para Interpretar</h2>
                <p><span data-var="CONSEJOS"></span></p>
            </div>

            <div class="section">
                <h2>‚öñÔ∏è Reglas Importantes</h2>
                <p>‚Ä¢ No puedes mentir sobre hechos b√°sicos (profesi√≥n, tiempo en la casa, etc.)</p>
                <p>‚Ä¢ No puedes revelar directamente tu objetivo secreto</p>
                <p>‚Ä¢ No puedes salirte del personaje</p>
                <p>‚Ä¢ No puedes mostrar esta p√°gina a otros jugadores</p>
                <p>‚Ä¢ El juego termina a las 22:00 con la votaci√≥n final</p>
            </div>
        </div>

        <div class="footer">
            <p>üï∞Ô∏è Votaci√≥n final: 22:00 | üéØ ¬°Cumple tu objetivo secreto para ganar!</p>
        </div>
    </div>

    <script>
        // Funci√≥n para cargar las variables del final del documento
        function loadCharacterData() {
            const scriptElements = document.querySelectorAll('script[type="text/character-data"]');
            const characterData = {};
            
            scriptElements.forEach(script => {
                const lines = script.textContent.trim().split('\n');
                lines.forEach(line => {
                    const [key, value] = line.split('=');
                    if (key && value) {
                        characterData[key.trim()] = value.trim();
                    }
                });
            });
            
            // Reemplazar todas las variables en el documento
            Object.keys(characterData).forEach(key => {
                const elements = document.querySelectorAll(`[data-var="${key}"]`);
                elements.forEach(element => {
                    element.innerHTML = characterData[key];
                });
            });
        }

        // Configurar el temporizador para las 22:00
        function updateTimer() {
            const now = new Date();
            const target = new Date();
            target.setHours(22, 0, 0, 0);
            
            // Si ya pasaron las 22:00, poner el objetivo para el d√≠a siguiente
            if (now > target) {
                target.setDate(target.getDate() + 1);
            }
            
            const diff = target - now;
            
            if (diff > 0) {
                const hours = Math.floor(diff / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('countdown').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            } else {
                document.getElementById('countdown').textContent = "¬°VOTACI√ìN!";
                document.getElementById('countdown').style.color = "#ff6b6b";
                document.getElementById('timer').style.backgroundColor = "rgba(139, 0, 0, 0.9)";
            }
        }
        
        // Efecto de parpadeo para elementos importantes
        function addBlinkEffect() {
            const secretObjective = document.querySelector('.secret-objective');
            if (secretObjective) {
                secretObjective.style.animation = 'pulse 2s infinite';
            }
        }
        
        // A√±adir estilos de animaci√≥n
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.4); }
                70% { box-shadow: 0 0 0 10px rgba(255, 107, 107, 0); }
                100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
            }
        `;
        document.head.appendChild(style);
        
        // Inicializar todo cuando se carga la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            loadCharacterData();
            addBlinkEffect();
            updateTimer();
            setInterval(updateTimer, 1000);
        });
        
        // Prevenir clic derecho y selecci√≥n de texto para mantener la inmersi√≥n
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
        });
    </script>

    <!-- CONFIGURACI√ìN DEL PERSONAJE -->
    <!-- Simplemente edita los valores despu√©s del = para cada variable -->
    <script type="text/character-data">
        NOMBRE_PERSONAJE = IVANCIO
        EMOJI = üéÆ
        PROFESION = Estudiante, sobrino de Don Eduardo
        EDAD = 11
        TRAITS = <span class="trait">Curioso</span><span class="trait">Inocente</span><span class="trait">Observador</span>
        HISTORIA = Eres el hijo de la hermana de Don Eduardo. Viniste a pasar el fin de semana con tu t√≠o Eduardo porque tus padres est√°n de viaje. Tu t√≠o siempre fue muy bueno contigo, te compraba packs de lego y te contaba historias divertidas. Est√°s muy triste porque alguien le hizo da√±o a tu t√≠o favorito.
        OBJETIVO_SECRETO = Quieres ayudar a encontrar al "malo" que le hizo da√±o a tu t√≠o Eduardo porque √©l era muy bueno contigo, as√≠ que contactaste con la Detective Tina. Puedes hacer preguntas inocentes que incomoden a los adultos. Los ni√±os a veces ven cosas que los adultos no notan o ignoran.
        CONOCIMIENTOS = Anoche no pod√≠as dormir y viste a Don Luis limpiando algo en la cocina muy tarde, como a las 12 de la noche. Escuchaste a tu t√≠o Eduardo hablar por tel√©fono sobre "cambios en el trabajo" y parec√≠a preocupado. Notaste que Do√±a Rosa siempre se pone muy contenta y se arregla el pelo cuando ve a Don Luis.
        CONSEJOS = Act√∫a como un ni√±o normal de 11 a√±os: curioso, directo y sin filtros. Puedes hacer preguntas que los adultos no se atrever√≠an a hacer, colabora con la Detective. Habla con tristeza sobre tu t√≠o pero con determinaci√≥n para encontrar la verdad. Los adultos pueden subestimarte, pero t√∫ has visto cosas importantes.
    </script>
</body>
</html>