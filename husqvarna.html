<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mistery in VillaMiau - <span data-var="NOMBRE_PERSONAJE"></span></title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 100%);
            color: #f4f1e8;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(40, 30, 20, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            border: 2px solid #8b4513;
        }

        .header {
            background: linear-gradient(135deg, #8b4513 0%, #a0522d 100%);
            padding: 30px;
            text-align: center;
            border-bottom: 3px solid #654321;
        }

        .game-title {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            color: #fff;
        }

        .character-name {
            font-size: 1.8em;
            color: #ffd700;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }

        .character-profession {
            font-size: 1.2em;
            color: #ddd;
            font-style: italic;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(60, 45, 30, 0.6);
            border-radius: 10px;
            border-left: 4px solid #8b4513;
        }

        .section h2 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.5em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .section p {
            line-height: 1.6;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .secret-objective {
            background: rgba(139, 0, 0, 0.3);
            border: 2px solid #ff6b6b;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            position: relative;
        }

        .secret-objective::before {
            content: "üîí";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #2c1810;
            padding: 5px 10px;
            border-radius: 50%;
            font-size: 1.2em;
        }

        .secret-objective h3 {
            color: #ff6b6b;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .knowledge-section {
            background: rgba(0, 100, 0, 0.2);
            border: 2px solid #90ee90;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .knowledge-section h3 {
            color: #90ee90;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .personality-traits {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .trait {
            background: #8b4513;
            color: #fff;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(139, 69, 19, 0.9);
            color: #fff;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            border: 2px solid #8b4513;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .warning {
            background: rgba(255, 165, 0, 0.2);
            border: 2px solid #ffa500;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            color: #ffa500;
            font-weight: bold;
        }

        .footer {
            background: #1a0f0a;
            padding: 20px;
            text-align: center;
            color: #999;
            border-top: 2px solid #8b4513;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .game-title {
                font-size: 2em;
            }
            
            .character-name {
                font-size: 1.5em;
            }
            
            .content {
                padding: 20px;
            }
            
            .timer {
                position: static;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="timer" id="timer">
        Time left: <span id="countdown">--:--:--</span>
    </div>

    <div class="container">
        <div class="header">
            <h1 class="game-title">MYSTERY IN VILLAMIAU</h1>
            <h2 class="character-name"><span data-var="EMOJI"></span> <span data-var="NOMBRE_PERSONAJE"></span></h2>
            <p class="character-profession"><span data-var="PROFESION"></span></p>
        </div>

        <div class="content">
            <div class="warning">
                ‚ö†Ô∏è CONFIDENTIAL INFORMATION ‚Äì Do not show this page to other players
            </div>

            <div class="section">
                <h2>üìã Basic Information</h2>
                <p><strong>Age:</strong> <span data-var="EDAD"></span> years old</p>
                <p><strong>Profession:</strong> <span data-var="PROFESION"></span></p>
                <div class="personality-traits">
                    <span data-var="TRAITS"></span>
                </div>
            </div>

            <div class="section">
                <h2>üìñ Your Story</h2>
                <p><span data-var="HISTORIA"></span></p>
            </div>

            <div class="secret-objective">
                <h3>üéØ Your Secret Objective</h3>
                <p><span data-var="OBJETIVO_SECRETO"></span></p>
            </div>

            <div class="knowledge-section">
                <h3>üß† What You Know</h3>
                <p><span data-var="CONOCIMIENTOS"></span></p>
            </div>

            <div class="section">
                <h2>üé≠ Roleplaying Tips</h2>
                <p><span data-var="CONSEJOS"></span></p>
            </div>

            <div class="section">
                <h2>‚öñÔ∏è Important Rules</h2>
                <p>‚Ä¢ You cannot lie about basic facts (profession, time in the house, etc.)</p>
                <p>‚Ä¢ You cannot reveal your secret objective directly</p>
                <p>‚Ä¢ You must stay in character</p>
                <p>‚Ä¢ You must not show this page to other players</p>
                <p>‚Ä¢ The game ends at 22:00 with the final vote</p>
            </div>
        </div>

        <div class="footer">
            <p>üï∞Ô∏è Final Vote: 22:00 | üéØ Achieve your secret objective to win!</p>
        </div>
    </div>

    <script>
        // Function to load character variables from the script at the end
        function loadCharacterData() {
            const scriptElements = document.querySelectorAll('script[type="text/character-data"]');
            const characterData = {};
            
            scriptElements.forEach(script => {
                const lines = script.textContent.trim().split('\n');
                lines.forEach(line => {
                    const [key, value] = line.split('=');
                    if (key && value) {
                        characterData[key.trim()] = value.trim();
                    }
                });
            });
            
            Object.keys(characterData).forEach(key => {
                const elements = document.querySelectorAll(`[data-var="${key}"]`);
                elements.forEach(element => {
                    element.innerHTML = characterData[key];
                });
            });
        }

        // Set timer to countdown until 22:00
        function updateTimer() {
            const now = new Date();
            const target = new Date();
            target.setHours(22, 0, 0, 0);
            
            if (now > target) {
                target.setDate(target.getDate() + 1);
            }
            
            const diff = target - now;
            
            if (diff > 0) {
                const hours = Math.floor(diff / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('countdown').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            } else {
                document.getElementById('countdown').textContent = "VOTE NOW!";
                document.getElementById('countdown').style.color = "#ff6b6b";
                document.getElementById('timer').style.backgroundColor = "rgba(139, 0, 0, 0.9)";
            }
        }

        // Add pulse animation effect to secret objective section
        function addBlinkEffect() {
            const secretObjective = document.querySelector('.secret-objective');
            if (secretObjective) {
                secretObjective.style.animation = 'pulse 2s infinite';
            }
        }

        // Add pulse animation styles dynamically
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.4); }
                70% { box-shadow: 0 0 0 10px rgba(255, 107, 107, 0); }
                100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
            }
        `;
        document.head.appendChild(style);

        // Initialize everything when page is loaded
        document.addEventListener('DOMContentLoaded', function() {
            loadCharacterData();
            addBlinkEffect();
            updateTimer();
            setInterval(updateTimer, 1000);
        });

        // Disable right click and text selection to maintain immersion
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
        });
    </script>

    <!-- CHARACTER CONFIGURATION -->
    <!-- Simply edit the values after the = for each variable -->
    <script type="text/character-data">
        NOMBRE_PERSONAJE = EFFRAIM HUSQVARNA
        EMOJI = üá∏üá™
        PROFESION = Swedish businessman, Don Eduardo's business partner
        EDAD = 40
        TRAITS = <span class="trait">Evasive</span><span class="trait">Pretends confusion</span><span class="trait">Nervous</span>
        HISTORIA = Came to Spain to close an important business deal with Don Eduardo. Had planned to leave this morning and return to Sweden, but now he's trapped by the investigation. He needs to leave tomorrow morning, urgently. He's genuinely worried about missing important meetings in Stockholm, but he's also hiding something about what he witnessed last night.
        OBJETIVO_SECRETO = You want to leave as soon as possible because you have urgent business matters in Sweden. Don Eduardo's death is economically beneficial to you, so you prefer to pretend you don't understand Spanish very well and that you didn't see anything suspicious. You're genuinely innocent but you benefit from Don Eduardo's death so you don't want to look guilty. If you're asked to stay for an interrogation, you're screwed so you'd best find out who did it.
        CONOCIMIENTOS = You saw Don Luis and Don Carlos talking quietly in the garden last night around 11 PM. You heard Don Eduardo on the phone saying he had to make "a difficult decision" tomorrow morning. You noticed Do√±a Rosa acting strangely nervous around Don Luis. You prefer not to get involved in Spanish family drama.
        CONSEJOS = Pretend your Spanish isn't very good when asked difficult questions. Act confused and say things like "I don't understand" or "Can you repeat?" Keep mentioning that you need to return to Sweden urgently. Act nervous but not guilty - more like someone who's uncomfortable being involved in a murder investigation.
    </script>
</body>
</html>
